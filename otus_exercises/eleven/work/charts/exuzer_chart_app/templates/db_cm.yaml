apiVersion: v1
kind: ConfigMap
metadata:
  name: dbuser-cm    
data: 
  db_dialect: "org.hibernate.dialect.PostgreSQL10Dialect"
  db_driver_class: "org.postgresql.Driver"
  db_provider_class: "org.hibernate.c3p0.internal.C3P0ConnectionProvider"
  db_url: {{ .Values.db.url }} 
  db_username: {{ .Values.db.username }} 
  db_password: {{ .Values.db.password }} 
  db_current_session_context_class: "thread"
  db_timeout: "1500"
  db_acquireRetryAttempts: "4"
  db_acquireRetryDelay: "3000"
  db_breakAfterAcquireFailure: "false"
  db_maxConnectionAge: "6000"
  db_maxIdleTime: "6000"
  db_maxIdleTimeExcessConnections: "1800"
  db_idleConnectionTestPeriod: "3600"
  management.security.enabled: "false"
  management.endpoint.health.show-details: "always"
  management.metrics.distribution.slo.http.server.requests: "10ms,50ms,100ms,200ms,300ms,400ms,500ms,800ms,1000ms,2000ms,3000ms,4000ms"
  management.metrics.export.prometheus.enabled: "true"
  management.endpoints.web.exposure.include: "*"
  management.metrics.distribution.percentiles-histogram.http.server.requests: "true"
 
  
  